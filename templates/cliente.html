<div class="exam-area" style="flex:2; padding:30px; overflow-y:auto; background:white;">
    <div style="background:#fff3cd; color:#856404; padding:10px; border-radius:5px; margin-bottom:20px; font-size:12px;">
        üõ°Ô∏è <b>Nota:</b> Tu c√°mara NO se transmite en vivo. Solo se capturan evidencias si el sistema detecta incidentes.
    </div>

    {% if config.tipo == 'tradicional' %}
        <img src="{{ config.url }}" style="width:100%; border:1px solid #ddd;">
        <textarea id="resp_txt" style="width:100%; height:150px; margin-top:20px;" placeholder="Escribe aqu√≠ tus respuestas finales..."></textarea>
    {% else %}
        <div id="quiz">
            {% for preg in config.preguntas %}
            <div class="question" style="margin-bottom:20px; background:#f8fafc; padding:15px; border-radius:8px;">
                <p><b>{{ loop.index }}. {{ preg.pregunta }}</b></p>
                {% for opc in preg.opciones %}
                <label style="display:block;"><input type="radio" name="p{{loop.index0}}" value="{{opc}}"> {{opc}}</label>
                {% endfor %}
            </div>
            {% endfor %}
        </div>
    {% endif %}

    <form action="/enviar_examen" method="post" onsubmit="preparar()">
        <input type="hidden" name="uid" value="{{ uid }}">
        <input type="hidden" name="respuestas" id="resp_final">
        <button type="submit" style="background:#28a745; color:white; width:100%; padding:15px; border:none; border-radius:8px; font-weight:bold; cursor:pointer;">
            üèÅ FINALIZAR Y ENVIAR EXAMEN
        </button>
    </form>
</div>

<script>
    function preparar() {
        // Esta funci√≥n de JS recopila las respuestas para mandarlas a Python
        let data = {};
        if (document.getElementById('resp_txt')) data.texto = document.getElementById('resp_txt').value;
        document.getElementById('resp_final').value = JSON.stringify(data);
    }
</script>
