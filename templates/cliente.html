<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Examen en Curso - FIEE</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
    <style>
        :root { --primary: #7b1fa2; --danger: #ef4444; --success: #10b981; }
        body { font-family: 'Segoe UI', sans-serif; background: #f3f4f6; margin: 0; display: flex; }
        .sidebar { width: 280px; background: white; padding: 25px; height: 100vh; box-shadow: 2px 0 10px rgba(0,0,0,0.05); }
        .main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 40px; }
        video { border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.2); width: 640px; transform: scaleX(-1); background: #000; }
        .status-badge { padding: 12px 25px; border-radius: 50px; font-weight: bold; margin-top: 20px; }
        .status-ok { background: #d1fae5; color: var(--success); }
        .status-alert { background: #fee2e2; color: var(--danger); }
        .log-item { padding: 10px; border-bottom: 1px solid #eee; font-size: 13px; display: flex; justify-content: space-between; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2 style="color:var(--primary)">üèõÔ∏è FIEE UNI</h2>
        <div style="background:#f8fafc; padding:15px; border-radius:8px; margin-bottom:20px;">
            <p><strong>Alumno:</strong> {{ nombre }}</p>
            <p><strong>Matr√≠cula:</strong> {{ uid }}</p>
        </div>
        <h4>Historial Local</h4>
        <div id="lista-eventos"></div>
    </div>
    <div class="main">
        <video id="video-alumno" autoplay playsinline></video>
        <canvas id="canvas-oculto" style="display:none" width="640" height="480"></canvas>
        <div id="estado" class="status-badge status-ok">üü¢ Monitoreo Activo</div>
    </div>
    <script>const DATOS_ALUMNO = {uid: "{{uid}}", nombre: "{{nombre}}", materia: "{{materia}}"};</script>
    <script src="/static/js/motor_ia.js"></script>
</body>
</html>
